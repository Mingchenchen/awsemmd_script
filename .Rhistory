library(tidyverse)
library(gridExtra)
data <- read_csv("/Users/weilu/Research/server/aawsem/aawsemJan16/T0766_single/simulation/data")
ggplot(data) +
aes(run, qw) +
geom_boxplot()
data_end <- data %>% filter(step > 7000)
ggplot(data_end) +
aes(reorder(run, qw, FUN = median), qw) +
geom_boxplot() +
xlab("") +
ylab("Qw") +
ylim(0.2, 0.8) +
coord_flip() +
theme_bw() +
theme(axis.text=element_text(size=30)) +
theme(axis.title.x=element_text(size=30)) +
theme(axis.title.y=element_text(size=30))
ggplot(data_end) +
aes(reorder(run, qw, FUN = median), qw) +
geom_boxplot() +
coord_flip()
library(tidyverse)
library(gridExtra)
setwd("/Users/weilu/Research/server/project/freeEnergy_2xov/qValue_v2/simulation/350")
read_table("data")
read_delim("data", "\t")
read_delim("data", "\t ")
read_delim("data", " \t ")
read_delim("data", " \t ",col_types = "ddd")
read_delim("data", "\t",col_types = "ddd")
read_delim("data", "\t")
?read_table
read_delim("data", col_names = FALSE)
read_delim("data", "\t",col_names = FALSE)
data <- read_delim("data", "\t", col_names = FALSE)
data %>% as.double(X1)
data %>% mutate(qn = X1)
data %>% mutate(qn = as.double(X1))
data %>% mutate(qn = as.double(X1), qc = as.double(X2))
data <- data %>% mutate(qn = as.double(X1), qc = as.double(X2))
ggplot(data) +
aes(qn) +
geom_point()
data <- data %>% mutate(qn = as.double(X1), qc = as.double(X2), n = 1:80000)
ggplot(data) +
aes(,qn) +
geom_point()
ggplot(data) +
aes(n,qn) +
geom_point()
data
data %>% gather('qn','qc', key="side",value ="value")
data %>% gather('qn','qc', key="side",value ="value")
data %>% gather("qn",'qc', key="side",value ="value")
data[qn]
data["qn"]
data %>% gather(qn,qc, key="side",value ="value")
data <- data %>% gather(qn,qc, key="side",value ="value")
ggplot(data) +
aes(n,qn) +
geom_point()
ggplot(data) +
aes(n,value, color = side) +
geom_point()
setwd("/Users/weilu/Research/server/project/freeEnergy_2xov/pullingDistance/simulation")
read_table("data")
read_table("t")
read_cvs("t")
read_csv("t")
data <- read_csv("t")
ggplot(data) +
aes(qn) +
geom_histogram()
ggplot(data) +
aes(qc) +
geom_histogram()
ggplot(data) +
aes(x) +
geom_histogram()
setwd("/Users/weilu/Research/server/project/freeEnergy_2xov/pullingDistance_v3/simulation")
data <- read_csv("data")
ggplot(data) +
aes(x) +
geom_histogram()
data
read_table("data")
data <- read_csv("data")
data
ggplot(data) +
aes(x) +
geom_histogram()
ggplot(data) +
aes(qn) +
geom_histogram()
ggplot(data) +
aes(qc) +
geom_histogram()
ggplot(data) +
aes(x) +
geom_histogram()
ggplot(data) +
aes(x) +
geom_point()
ggplot(data) +
aes(1:224000,x) +
geom_point()
library(tidyverse)
library(tidyverse)
library(gridExtra)
library(tidyverse)
library(gridExtra)
library(stringr)
library(tidyverse)
library(gridExtra)
library(stringr)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(gridExtra)
library(stringr)
knitr::opts_chunk$set(echo = TRUE)
read_table("march_2017_data/analyze.txt", skip = 1)
?read_tsv
read_tsv("march_2017_data/analyze.txt", skip = 1)
read_tsv("march_2017_data/analyze.txt", skip = 1, col_names = c("year", "count", "percentage"))
data <- read_tsv("march_2017_data/analyze.txt", skip = 1, col_names = c("year", "count", "percentage"))
data %>%
ggplot() +
aes(year, count) +
geom_line()
data
data
data %>%
filter(count != NA)
data %>%
filter(!is.na(count))
```{r clean}
data
data <- data %>%
filter(!is.na(count))
data %>%
ggplot() +
aes(year, count) +
geom_line()
data
data <- data %>%
filter(!is.na(count)) %>%
mutate(year = as.integer(year))
data
data %>%
ggplot() +
aes(year, count) +
geom_line()
data <- data %>%
filter(!is.na(count)) %>%
mutate(year = as.integer(year)) %>%
filter(year != 2017)
data %>%
ggplot() +
aes(year, count) +
geom_line()
data %>%
ggplot() +
aes(year, count) +
geom_line() +
geom_point()
comp <- read_tsv("march_2017_data/comp.txt", skip = 1, col_names = c("year", "count", "percentage"))
comp
comp <- comp %>%
filter(!is.na(count)) %>%
mutate(year = as.integer(year)) %>%
filter(year != 2017)
data %>%
ggplot() +
aes(year, count) +
geom_line() +
geom_point() +
geom_line(comp)
data %>%
ggplot() +
aes(year, count) +
geom_line() +
geom_point() +
geom_line(data=comp)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(gridExtra)
library(stringr)
folder_address = "/Users/weilu/Research/server/march_2017/pulling/ha_glpg/analysis/data"
file_name = str_c(folder_address,"135/0")
file_name
file_name <-  str_c(folder_address,"135/0")
file_name
folder_address = "/Users/weilu/Research/server/march_2017/pulling/ha_glpg/analysis/data/"
file_name <-  str_c(folder_address,"135/0")
?read_fwf
read_fwf(file_name, fwf_empty(file_name, col_names = c("qn", "qc", "qw", "energy")))
read_fwf(file_name, fwf_empty(file_name, col_names = c("qn", "qc", "qw", "energy"), guess_max = 1))
read_table(file_name)
fwf_sample <- readr_example("fwf-sample.txt")
cat(read_lines(fwf_sample))
fwf_empty(fwf_sample, col_names = c("first", "last", "state", "ssn"))
read_fwf(fwf_sample, fwf_empty(fwf_sample, col_names = c("first", "last", "state", "ssn")))
fwf_empty(file_name, col_names = c("qn", "qc", "qw", "energy"), guess_max = 1)
fwf_empty(file_name, col_names = c("qn", "qc", "qw", "energy"))
fwf_empty(file_name, col_names = c("qn", "qc", "qw", "energy"), guess_max = 1)
fwf_sample
read_fwf(file_name, fwf_widths(c(8,8, 20,20), c("qn", "qc", "qw", "energy") )
)
read_fwf(file_name, fwf_widths(c(8,8, 20,20), c("qn", "qc", "qw", "energy") ))
read_fwf(file_name, fwf_widths(c(7,8, 20,20), c("qn", "qc", "qw", "energy") ))
read_tsv(file_name)
read_tsv(file_name, col_names = NALL)
read_tsv(file_name, col_names = NULL)
read_tsv(file_name, col_names = FALSE)
rename(data) <- c("qn", "qc", "qw", "energy")
data <- read_tsv(file_name, col_names = FALSE)
rename(data) <- c("qn", "qc", "qw", "energy")
data
names(data)
names(data) <- c("qn", "qc", "qw", "energy")
data
tibble(data, run = 1)
as_tibble(data, run = 1)
add_column(data, run = 1)
add_column(data, run = rep(1,1000) )
add_column(data, run = rep(1,10000) )
library(pryr)
library(tidyverse)
pryr::object_size(data)
data
data <- add_column(data, rep(1:10000))
data
cbind(data,data)
rbind(data,data)
rbind("",data)
rbind(,data)
rbind(NULL,data)
str_c(folder_address, 135)
str_c(folder_address, 135,0)
str_c(folder_address, 135,"/",0)
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(1:10000))
}
read(135,0)
read(135,1)
data
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(1:10000))
data
}
read(135,1)
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(1,10000))
data
}
data
read(135,1)
0:10
for(i in 0:19){
output <- rbind(output, read(135, i))
}
output <- NULL
output <- rbind(output, read(135, i))
i
output <- NULL
for(i in 0:19){
output <- rbind(output, read(135, i))
}
output
folder_address = "/Users/weilu/Research/server/march_2017/pulling/ha_glpg/analysis/data/"
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(loc,10000))
data
}
output <- NULL
for(i in 0:19){
output <- rbind(output, read(135, i))
}
output
folder_address = "/Users/weilu/Research/server/march_2017/pulling/ha_glpg/analysis/data/"
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(loc,nrow(data)))
data <- add_column(data, temp = rep(temp,nrow(data)))
data
}
output <- NULL
for(i in 0:19){
output <- rbind(output, read(135, i))
}
output
folder_address = "/Users/weilu/Research/server/march_2017/pulling/ha_glpg/analysis/data/"
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(loc,nrow(data)))
data <- add_column(data, temp = rep(temp,nrow(data)))
data
}
output <- NULL
temp_list <- c("135", "160", "185", "210")
for(temp in temp_list){
for(i in 0:19){
output <- rbind(output, read(135, i))
}
}
output
output %>%
filter(run == 0) %>%
ggplot() +
aes(qn, qc, color = temp )+
geom_point()
output %>%
filter(run == 0) %>%
ggplot() +
aes(qn, qc, color = as.factor(temp) )+
geom_point()
folder_address = "/Users/weilu/Research/server/march_2017/pulling/ha_glpg/analysis/data/"
read <- function(temp, loc) {
file_name <-  str_c(folder_address, temp, "/", loc)
data <- read_tsv(file_name, col_names = FALSE)
names(data) <- c("qn", "qc", "qw", "energy")
data <- add_column(data, run = rep(loc,nrow(data)))
data <- add_column(data, temp = rep(temp,nrow(data)))
data
}
output <- NULL
temp_list <- c("135", "160", "185", "210")
for(temp in temp_list){
for(i in 0:19){
output <- rbind(output, read(temp, i))
}
}
output %>%
filter(run == 0) %>%
ggplot() +
aes(qn, qc, color = temp )+
geom_point()
theme_set(theme_gray(base_size = 18))
output %>%
filter(run == 0) %>%
ggplot() +
aes(qn, qc, color = temp )+
geom_point()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(gridExtra)
library(stringr)
theme_set(theme_gray(base_size = 20))
folder_address = "/Users/weilu/Research/server/march_2017/pulling/pull/analysis/data/"
file_name <-  str_c(folder_address, "0.dat")
read_table(file_name)
read_delim(file_name,delim = "")
read_delim(file_name,delim = " ")
data <- read_delim(file_name,delim = " ") %>% select(Steps, Distance)
data
data <- read_delim(file_name,delim = " ") %>% select(Steps, Distance) %>% mutate(run = 1)
data
str(1)
as.character(1)
str_c(1)
str_c(1,1)
?str_c
str_c("Letters ", letters)
folder_address = "/Users/weilu/Research/server/march_2017/pulling/pull/analysis/data/"
read <- function(i) {
file_name <-  str_c(folder_address, i, ".dat")
data <- read_delim(file_name,delim = " ") %>% select(Steps, Distance) %>% mutate(run = str_c(i))
}
output <- NULL
n <- 40
for(i in 0:n){
output <- rbind(output, read(i))
}
output
read_delim
?read_delim
file_name <-  str_c(folder_address, 0, ".dat")
read_delim(file_name,delim = " ")
read_delim(file_name,delim = " ", col_types = "idc")
read_delim(file_name,delim = " ", col_types = "idc", col_names = c("Steps", "Distance", "add"))
read_delim(file_name,delim = " ", col_types = "idc")
output %>%
ggplot() +
aes(Steps, Distance) +
geom_line() +
facet_wrap(~run)
ggplot() +
aes(Steps, Distance) +
geom_line()
output %>%
filter(run == 0) %>%
ggplot() +
aes(Steps, Distance) +
geom_line()
output %>%
filter(run == 10) %>%
ggplot() +
aes(Steps, Distance) +
geom_line()
output %>%
ggplot() +
aes(Steps, Distance) +
geom_line()
output %>%
ggplot() +
aes(Steps, Distance, color = run) +
geom_line()
output %>%
filter(Steps > 6000000)
output %>%
filter(Steps > 6000000) %>%
group_by(run) %>%
n()
output %>%
filter(Steps > 6000000) %>%
group_by(run) %>%
n()
output %>%
filter(Steps > 6000000) %>%
group_by(run) %>%
summarise(Steps)
output %>%
filter(Steps > 6000000) %>%
group_by(run) %>%
summarise(Steps)
output %>%
filter(Steps > 6000000) %>%
group_by(run) %>%
count(Steps)
output %>%
filter(Steps == 6000000) %>%
group_by(run) %>%
count(Steps)
output %>%
filter(Steps == 6000000)
output %>%
filter(run == "33")
output %>%
filter(run == "33") %>%
tail(10)
output %>%
filter(run == "20") %>%
ggplot() +
aes(Distance) +
geom_histogram()
output %>%
ggplot() +
aes(Distance) +
geom_histogram()
output %>%
ggplot() +
aes(Distance, color = run) +
geom_histogram()
geom_histogram()
?geom_histogram
output %>%
ggplot() +
aes(Distance, color = run) +
geom_freqpoly()
?geom_freqpoly
output %>%
ggplot() +
aes(Distance, color = run) +
geom_freqpoly(binwidth = 20)
output %>%
ggplot() +
aes(Distance, color = run) +
geom_freqpoly(binwidth = 10)
output %>%
ggplot() +
aes(Distance, color = run) +
geom_histogram(binwidth = 20)
output %>%
ggplot() +
aes(Distance, color = run) +
geom_histogram(binwidth = 20, position = "identity")
output %>%
ggplot() +
aes(Distance, color = run) +
geom_histogram(binwidth = 20, position = "identity", alpha = 0)
output %>%
ggplot() +
aes(Distance, color = run) +
geom_histogram(binwidth = 10, position = "identity", alpha = 0)
output %>%
ggplot() +
aes(Distance, color = run) +
geom_histogram(binwidth = 5, position = "identity", alpha = 0)
